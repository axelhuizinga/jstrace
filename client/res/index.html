<!DOCTYPE html>
<html>
<head>
        <link rel="stylesheet" href="css/client.css">
        <script src="js/traceClient.js"></script>
        <meta charset=utf-8 />
        <title>Remote jT Demo Application</title>
</head>
<body>
    <div id="container">
        <h1>Remote jT Demo Application</h1>
                <span id="status" class="offline">offline</span>
                
                <h2>Send Text Frame</h2>
                <input id="action" placeholder="action" type="text" />
        <input id="data" placeholder="data" type="text" />
        <button id="send">Send Text</button>
                
                <h2>Server-Response</h2>
        <div id="log"></div>
	</div>
	<script>
		(function(){
			document.addEventListener("DOMContentLoaded", () => {

				const elLog = document.getElementById('log');
				const elStatus = document.getElementById('status');
				const elSend = document.getElementById('send');
				const elAction = document.getElementById('action');
				const elData = document.getElementById('data');

				console.log('hi '+App.jT);
				document.getElementById('send').addEventListener('click', () => {
					let payload = {
						action: elAction.value,
						data: elData.value
					};
					App.jT.trace(JSON.stringify(payload));
				});
			});
		}).call();		
	</script>
</body>
</html>